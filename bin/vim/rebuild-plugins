#!/bin/zsh
source "$HOME/.config/wryn/env.zsh"
source $ZSH_COLOR_UTIL
#####################################################################

function INSTALL() {
	local CMD_NAME="$1"
	local BUILD_DIR="$2"
	local BUILD="$3"

	[ ! -d $BUILD_DIR ] && FATAL "unable to locate $CMD_NAME build files"

	CHECK "Installing $CMD_NAME"
	$BUILD >/dev/null 2>&1 \
		&& OK || WARN "failed automated build"
}

#####################################################################

function INSTALL_YCM() {
	local CMD_NAME='YouCompleteMe'
	local BUILD_DIR="$HOME/.vim/bundle/YouCompleteMe"

	function BUILD() {
		python3 $BUILD_DIR/install.py
	}

	INSTALL $CMD_NAME $BUILD_DIR BUILD
}

#####################################################################
INSTALL_YCM
